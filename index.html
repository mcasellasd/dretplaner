<!DOCTYPE html>
<html lang="ca">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dret Català Visual | Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700&display=swap');

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #030712;
            color: #f8fafc;
            overflow-x: hidden;
        }

        .glass-card {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .glass-card:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(96, 165, 250, 0.5);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 20px rgba(59, 130, 246, 0.2);
        }

        .gradient-text {
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .blob {
            position: absolute;
            filter: blur(100px);
            z-index: -1;
            opacity: 0.5;
        }
    </style>
</head>

<body class="min-h-screen relative">
    <!-- Fons / Elements Decoratius -->
    <div class="blob bg-blue-600/30 w-96 h-96 rounded-full top-[-100px] left-[-100px]"></div>
    <div class="blob bg-purple-600/20 w-[500px] h-[500px] rounded-full bottom-[-100px] right-[-100px]"></div>
    <div class="blob bg-emerald-600/10 w-[600px] h-[600px] rounded-full top-[40%] left-[30%]"></div>

    <div class="max-w-7xl mx-auto px-6 py-20 relative z-10">
        <!-- Capçalera Global -->
        <header class="text-center mb-20 mt-10">
            <div
                class="inline-flex items-center gap-2 px-4 py-2 rounded-full glass-card text-blue-400 text-sm font-semibold tracking-wide mb-8 uppercase">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" />
                    <polyline points="14 2 14 8 20 8" />
                </svg>
                Acadèmia Audiovisual Jurídica
            </div>
            <h1 class="text-5xl md:text-7xl font-extrabold tracking-tight mb-6">
                Visual <span class="bg-gradient-to-r from-blue-400 to-indigo-500 gradient-text">Law</span>
            </h1>
            <p class="text-slate-400 max-w-2xl mx-auto text-xl font-light">
                Apunts visuals, esquemes interactius i <span class="text-white font-semibold">vídeos d'alta
                    qualitat</span> per dominar el Dret de manera eficient.
            </p>
        </header>

        <!-- Graella de Branques -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

            <!-- 1. Dret Penal (Actiu) -->
            <div class="block group h-full">
                <div class="glass-card rounded-3xl p-8 h-full relative overflow-hidden flex flex-col justify-between">
                    <div
                        class="absolute top-0 right-0 w-32 h-32 bg-red-500/10 rounded-bl-full transition-transform group-hover:scale-[2] duration-700 ease-in-out">
                    </div>
                    <div class="relative z-10">
                        <div class="flex justify-between items-start mb-6">
                            <div
                                class="w-14 h-14 rounded-2xl bg-red-500/20 flex items-center justify-center text-red-400">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M3 13h18" />
                                    <path d="m8 13-3 8h14l-3-8" />
                                    <path d="m11 13-1-3a2 2 0 0 1 4 0l-1 3" />
                                </svg>
                            </div>
                            <span
                                class="bg-red-500/20 text-red-400 text-xs font-bold px-3 py-1 rounded-full border border-red-500/30">14
                                Vídeos</span>
                        </div>
                        <h2 class="text-2xl font-bold mb-3 text-white">Dret Penal</h2>
                        <p class="text-slate-400 leading-relaxed font-light text-sm">
                            Teoria del delicte, delictes contra la persona, patrimonials i altres conceptes fonamentals
                            del Codi Penal.
                        </p>
                    </div>

                    <div
                        class="mt-auto pt-4 flex gap-3 relative z-20 w-full opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition-all duration-300">
                        <a href="dret-penal.html"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-red-500/20 hover:bg-red-500/30 text-red-400 font-semibold text-sm transition-colors border border-red-500/30">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="currentColor">
                                <polygon points="5 3 19 12 5 21 5 3" />
                            </svg>
                            Vídeos
                        </a>
                        <a href="dret-penal-text.html"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-slate-800/80 hover:bg-slate-700 text-slate-300 font-semibold text-sm transition-colors border border-slate-600/50">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20" />
                            </svg>
                            Mòduls
                        </a>
                    </div>
                </div>
            </div>

            <!-- 2. Dret Civil (Actiu) -->
            <div class="block group h-full">
                <div
                    class="glass-card rounded-3xl p-8 h-full relative overflow-hidden flex flex-col justify-between border-purple-500/30 hover:border-purple-400/50">
                    <div
                        class="absolute top-0 right-0 w-32 h-32 bg-purple-500/10 rounded-bl-full transition-transform group-hover:scale-[2] duration-700 ease-in-out">
                    </div>
                    <div class="relative z-10">
                        <div class="flex justify-between items-start mb-6">
                            <div
                                class="w-14 h-14 rounded-2xl bg-purple-500/20 flex items-center justify-center text-purple-400">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M17 18a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2" />
                                    <rect width="18" height="18" x="3" y="4" rx="2" />
                                    <circle cx="12" cy="10" r="2" />
                                </svg>
                            </div>
                            <span
                                class="bg-purple-500/20 text-purple-400 text-xs font-bold px-3 py-1 rounded-full border border-purple-500/30">11
                                Vídeos</span>
                        </div>
                        <h2 class="text-2xl font-bold mb-3 text-white">Dret Civil</h2>
                        <p class="text-slate-400 leading-relaxed font-light text-sm">
                            Drets reals, dret de família, obligacions, referències específiques al Dret Civil Català i
                            propietat.
                        </p>
                    </div>

                    <div
                        class="mt-auto pt-4 flex gap-3 relative z-20 w-full opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition-all duration-300">
                        <a href="dret-civil.html"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 font-semibold text-sm transition-colors border border-purple-500/30">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="currentColor">
                                <polygon points="5 3 19 12 5 21 5 3" />
                            </svg>
                            Vídeos
                        </a>
                        <a href="dret-civil-text.html"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-slate-800/80 hover:bg-slate-700 text-slate-300 font-semibold text-sm transition-colors border border-slate-600/50">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20" />
                            </svg>
                            Mòduls
                        </a>
                    </div>
                </div>
            </div>

            <!-- 3. Dret Financer i Tributari (Actiu als interactius) -->
            <div class="block group h-full">
                <div class="glass-card rounded-3xl p-8 h-full relative overflow-hidden flex flex-col justify-between">
                    <div
                        class="absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-bl-full transition-transform group-hover:scale-[2] duration-700 ease-in-out">
                    </div>
                    <div class="relative z-10">
                        <div class="flex justify-between items-start mb-6">
                            <div
                                class="w-14 h-14 rounded-2xl bg-blue-500/20 flex items-center justify-center text-blue-400">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M12 2v20" />
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                                </svg>
                            </div>
                            <span
                                class="bg-blue-500/20 text-blue-400 text-xs font-bold px-3 py-1 rounded-full border border-blue-500/30">Interactius</span>
                        </div>
                        <h2 class="text-2xl font-bold mb-3 text-white">Dret Financer i Tributari</h2>
                        <p class="text-slate-400 leading-relaxed font-light text-sm">
                            Impostos, principis tributaris i el sistema impositiu en mapes interactius i audiovisuals (3
                            Vídeos).
                        </p>
                    </div>

                    <div
                        class="mt-auto pt-4 flex gap-3 relative z-20 w-full opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition-all duration-300">
                        <a href="dret-financer-videos.html"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 font-semibold text-sm transition-colors border border-blue-500/30">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="currentColor">
                                <polygon points="5 3 19 12 5 21 5 3" />
                            </svg>
                            Vídeos
                        </a>
                        <a href="dret-financer.html"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-slate-800/80 hover:bg-slate-700 text-slate-300 font-semibold text-sm transition-colors border border-slate-600/50">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20" />
                            </svg>
                            Mòduls
                        </a>
                    </div>
                </div>
            </div>

            <!-- 4. Dret Mercantil -->
            <div class="block group h-full">
                <div
                    class="glass-card rounded-3xl p-8 h-full relative overflow-hidden flex flex-col justify-between border-amber-500/30 hover:border-amber-400/50">
                    <div
                        class="absolute top-0 right-0 w-32 h-32 bg-amber-500/10 rounded-bl-full transition-transform group-hover:scale-[2] duration-700 ease-in-out">
                    </div>
                    <div class="relative z-10">
                        <div class="flex justify-between items-start mb-6">
                            <div
                                class="w-14 h-14 rounded-2xl bg-amber-500/20 flex items-center justify-center text-amber-400">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M3 3h18v18H3z" />
                                    <path d="M12 8v8" />
                                    <path d="M8 12h8" />
                                </svg>
                            </div>
                            <span
                                class="bg-amber-500/20 text-amber-400 text-xs font-bold px-3 py-1 rounded-full border border-amber-500/30">5
                                Vídeos</span>
                        </div>
                        <h2 class="text-2xl font-bold mb-3 text-white">Dret Mercantil</h2>
                        <p class="text-slate-400 leading-relaxed font-light text-sm">
                            Propietat industrial, títols valor i el funcionament competitiu i jurídic del mercat.
                        </p>
                    </div>

                    <div
                        class="mt-auto pt-4 flex gap-3 relative z-20 w-full opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition-all duration-300">
                        <a href="dret-mercantil.html"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-amber-500/20 hover:bg-amber-500/30 text-amber-400 font-semibold text-sm transition-colors border border-amber-500/30">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="currentColor">
                                <polygon points="5 3 19 12 5 21 5 3" />
                            </svg>
                            Vídeos
                        </a>
                        <a href="dret-mercantil-text.html"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-slate-800/80 hover:bg-slate-700 text-slate-300 font-semibold text-sm transition-colors border border-slate-600/50">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20" />
                            </svg>
                            Mòduls
                        </a>
                    </div>
                </div>
            </div>

            <!-- 5. Dret Públic (General) -->
            <div class="block group h-full">
                <div
                    class="glass-card rounded-3xl p-8 h-full relative overflow-hidden flex flex-col justify-between border-emerald-500/30 hover:border-emerald-400/50">
                    <div
                        class="absolute top-0 right-0 w-32 h-32 bg-emerald-500/10 rounded-bl-full transition-transform group-hover:scale-[2] duration-700 ease-in-out">
                    </div>
                    <div class="relative z-10">
                        <div class="flex justify-between items-start mb-6">
                            <div
                                class="w-14 h-14 rounded-2xl bg-emerald-500/20 flex items-center justify-center text-emerald-400">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z" />
                                    <line x1="4" x2="4" y1="22" y2="15" />
                                </svg>
                            </div>
                            <span
                                class="bg-emerald-500/20 text-emerald-400 text-xs font-bold px-3 py-1 rounded-full border border-emerald-500/30">4
                                Vídeos</span>
                        </div>
                        <h2 class="text-2xl font-bold mb-3 text-white">Dret Públic</h2>
                        <p class="text-slate-400 leading-relaxed font-light text-sm">
                            Una introducció al Dret Constitucional, Administratiu i l'organització del Poder Judicial.
                        </p>
                    </div>

                    <div
                        class="mt-auto pt-4 flex gap-3 relative z-20 w-full opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition-all duration-300">
                        <a href="#"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-emerald-500/20 hover:bg-emerald-500/30 text-emerald-400 font-semibold text-sm transition-colors border border-emerald-500/30">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="currentColor">
                                <polygon points="5 3 19 12 5 21 5 3" />
                            </svg>
                            Vídeos
                        </a>
                        <a href="dret-administratiu.html"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-slate-800/80 hover:bg-slate-700 text-slate-300 font-semibold text-sm transition-colors border border-slate-600/50">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20" />
                            </svg>
                            Mòduls
                        </a>
                    </div>
                </div>
            </div>

            <!-- 6. Fonaments del Dret / Història -->
            <div class="block group h-full">
                <div
                    class="glass-card rounded-3xl p-8 h-full relative overflow-hidden flex flex-col justify-between border-stone-500/30 hover:border-stone-400/50">
                    <div
                        class="absolute top-0 right-0 w-32 h-32 bg-stone-500/10 rounded-bl-full transition-transform group-hover:scale-[2] duration-700 ease-in-out">
                    </div>
                    <div class="relative z-10">
                        <div class="flex justify-between items-start mb-6">
                            <div
                                class="w-14 h-14 rounded-2xl bg-stone-500/20 flex items-center justify-center text-stone-400">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20" />
                                </svg>
                            </div>
                            <span
                                class="bg-stone-500/20 text-stone-400 text-xs font-bold px-3 py-1 rounded-full border border-stone-500/30">7
                                Vídeos</span>
                        </div>
                        <h2 class="text-2xl font-bold mb-3 text-white">Fonaments & Història</h2>
                        <p class="text-slate-400 leading-relaxed font-light text-sm">
                            Filosofia del Dret, evolució de l'Estat modern, dret medieval i la interpretació jurídica.
                        </p>
                    </div>

                    <div
                        class="mt-auto pt-4 flex gap-3 relative z-20 w-full opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition-all duration-300">
                        <a href="historia-dret.html"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-stone-500/20 hover:bg-stone-500/30 text-stone-400 font-semibold text-sm transition-colors border border-stone-500/30">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="currentColor">
                                <polygon points="5 3 19 12 5 21 5 3" />
                            </svg>
                            Vídeos
                        </a>
                        <a href="historia-dret-text.html"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-slate-800/80 hover:bg-slate-700 text-slate-300 font-semibold text-sm transition-colors border border-slate-600/50">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20" />
                            </svg>
                            Mòduls
                        </a>
                    </div>
                </div>
            </div>

            <!-- 7. Dret Processal Civil -->
            <div class="block group h-full">
                <div
                    class="glass-card rounded-3xl p-8 h-full relative overflow-hidden flex flex-col justify-between border-rose-500/30 hover:border-rose-400/50">
                    <div
                        class="absolute top-0 right-0 w-32 h-32 bg-rose-500/10 rounded-bl-full transition-transform group-hover:scale-[2] duration-700 ease-in-out">
                    </div>
                    <div class="relative z-10">
                        <div class="flex justify-between items-start mb-6">
                            <div
                                class="w-14 h-14 rounded-2xl bg-rose-500/20 flex items-center justify-center text-rose-400">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <rect width="18" height="18" x="3" y="4" rx="2" ry="2" />
                                    <line x1="16" x2="16" y1="2" y2="6" />
                                    <line x1="8" x2="8" y1="2" y2="6" />
                                    <line x1="3" x2="21" y1="10" y2="10" />
                                    <path d="m9 16 2 2 4-4" />
                                </svg>
                            </div>
                            <span
                                class="bg-rose-500/20 text-rose-400 text-xs font-bold px-3 py-1 rounded-full border border-rose-500/30">Nou</span>
                        </div>
                        <h2 class="text-2xl font-bold mb-3 text-white">Dret Processal Civil</h2>
                        <p class="text-slate-400 leading-relaxed font-light text-sm">
                            El procés civil, els tipus de procediments, i la regulació d'acord amb la Llei
                            d'Enjudiciament Civil (LEC).
                        </p>
                    </div>

                    <div
                        class="mt-auto pt-4 flex gap-3 relative z-20 w-full opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition-all duration-300">
                        <a href="#"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-rose-500/20 hover:bg-rose-500/30 text-rose-400 font-semibold text-sm transition-colors border border-rose-500/30">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="currentColor">
                                <polygon points="5 3 19 12 5 21 5 3" />
                            </svg>
                            Vídeos
                        </a>
                        <a href="dret-processal.html"
                            class="flex-1 flex justify-center items-center gap-2 py-2.5 rounded-xl bg-slate-800/80 hover:bg-slate-700 text-slate-300 font-semibold text-sm transition-colors border border-slate-600/50">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20" />
                            </svg>
                            Mòduls
                        </a>
                    </div>
                </div>
            </div>

        </div>
        <!-- Chatbot Widget -->
        <div id="chatbot"
            class="fixed bottom-6 right-6 z-50 transition-all duration-300 transform translate-y-[120%] opacity-0 pointer-events-none">
            <div class="glass-card w-80 md:w-96 rounded-3xl overflow-hidden flex flex-col shadow-2xl border border-slate-700/50 bg-slate-900/95"
                style="height: 500px;">
                <div
                    class="px-5 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 flex justify-between items-center text-white">
                    <div class="flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
                        </svg>
                        <h3 class="font-bold flex-1">Prof. Dret Català Visual (AI)</h3>
                    </div>
                    <button onclick="toggleChat()" class="text-white/80 hover:text-white transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>

                <div id="chat-messages" class="flex-1 p-4 overflow-y-auto space-y-4 text-sm bg-slate-800/80">
                    <div class="flex justify-start mb-4">
                        <div
                            class="bg-slate-700 text-slate-200 p-3 rounded-2xl rounded-tl-sm w-[85%] border border-slate-600">
                            <p>Hola! Sóc l'assistent docent virtual. Tinc accés al temari complet (més de 116 fragments
                                sobre Fiscalitat Directa). Què vols repassar avui?</p>
                        </div>
                    </div>
                </div>

                <div class="p-4 bg-slate-800 border-t border-slate-700">
                    <form id="chat-form" class="flex gap-2">
                        <input type="text" id="chat-input"
                            class="flex-1 bg-slate-900 text-white rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 border border-slate-700"
                            placeholder="Escriu la teva pregunta..." autocomplete="off">
                        <button type="submit"
                            class="bg-blue-600 hover:bg-blue-500 text-white rounded-full p-2 w-10 h-10 flex items-center justify-center transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                                fill="currentColor">
                                <path
                                    d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
                            </svg>
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Toggle Butó -->
        <button onclick="toggleChat()" id="chat-toggle-btn"
            class="fixed bottom-6 right-6 z-40 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full p-4 shadow-xl hover:shadow-2xl hover:scale-110 transition-all duration-300">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
            </svg>
        </button>

        <script>
            function toggleChat() {
                const chatbot = document.getElementById('chatbot');
                if (chatbot.classList.contains('translate-y-[120%]')) {
                    chatbot.classList.remove('translate-y-[120%]', 'opacity-0', 'pointer-events-none');
                    chatbot.classList.add('translate-y-0', 'opacity-100');
                } else {
                    chatbot.classList.add('translate-y-[120%]', 'opacity-0', 'pointer-events-none');
                    chatbot.classList.remove('translate-y-0', 'opacity-100');
                }
            }

            document.getElementById('chat-form').addEventListener('submit', async (e) => {
                e.preventDefault();
                const input = document.getElementById('chat-input');
                const message = input.value.trim();
                if (!message) return;

                const messagesDiv = document.getElementById('chat-messages');

                // Afegir missatge d'usuari
                messagesDiv.innerHTML += `
                <div class="flex justify-end mb-4">
                    <div class="bg-blue-600 text-white p-3 rounded-2xl rounded-tr-sm w-[85%] text-sm">
                        <p>${message}</p>
                    </div>
                </div>
            `;
                input.value = '';
                messagesDiv.scrollTop = messagesDiv.scrollHeight;

                const loadingId = 'loading-' + Date.now();
                messagesDiv.innerHTML += `
                <div id="${loadingId}" class="flex justify-start mb-4">
                    <div class="bg-slate-700 text-slate-400 p-3 rounded-2xl rounded-tl-sm text-sm border border-slate-600 flex items-center gap-2">
                        <div class="w-1.5 h-1.5 bg-slate-500 rounded-full animate-bounce"></div>
                        <div class="w-1.5 h-1.5 bg-slate-500 rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                        <div class="w-1.5 h-1.5 bg-slate-500 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                    </div>
                </div>
            `;
                messagesDiv.scrollTop = messagesDiv.scrollHeight;

                try {
                    const response = await fetch('/api/chat', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ message })
                    });

                    const data = await response.json();
                    document.getElementById(loadingId).remove();

                    const formattedReply = data.reply.replace(/\n/g, '<br/>');

                    let sourceHTML = '';
                    if (data.sources && data.sources.length > 0) {
                        sourceHTML = `
                        <div class="mt-3 text-xs text-slate-400 border-t border-slate-600 pt-2 flex items-center gap-1">
                            <svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            Font: ${data.sources.join(', ')}
                        </div>
                    `;
                    }

                    messagesDiv.innerHTML += `
                    <div class="flex justify-start mb-4">
                        <div class="bg-slate-700 text-slate-200 p-3 rounded-2xl rounded-tl-sm w-[90%] text-sm border border-slate-600">
                            <div class="prose prose-invert prose-sm">${formattedReply}</div>
                            ${sourceHTML}
                        </div>
                    </div>
                `;
                    messagesDiv.scrollTop = messagesDiv.scrollHeight;
                } catch (e) {
                    if (document.getElementById(loadingId)) {
                        document.getElementById(loadingId).remove();
                    }
                    messagesDiv.innerHTML += `
                    <div class="flex justify-start mb-4">
                        <div class="bg-red-900/50 text-red-200 p-3 rounded-2xl rounded-tl-sm w-[85%] text-sm border border-red-700/50">
                            <p>Error connectant amb l'assistent. Assegura't que el servidor local està executant-se correctament.</p>
                        </div>
                    </div>
                `;
                    messagesDiv.scrollTop = messagesDiv.scrollHeight;
                }
            });
        </script>
</body>

</html>